# CI/CD

### 1. 개념

- #### 요약

  - 애플리케이션 개발 단계부터 배포 까지의 모든 단계를 자동화 해서, 코드를 커밋만 하면 자동으로 빌드, 테스트, 배포가 이루어지는 환경을 구축하는 것.

- #### CI(Continuous Integration, 지속적 통합)

  - 개발자가 작업한 코드를 주기적으로 메인 브랜치에 병합하고(여기 까지는 수동 작업), 이러한 병합이 자동으로 빌드되고 테스트되는 과정을 자동화 하는것

- #### CD (Continuous Deployment/Delivery, 지속적 배포)

  - CI 과정을 통해 통합된 코드를 자동화된 방식으로 운영 환경에 배포하는 단계

### 2. 예시

- #### CI (Continuous Integration) 예시

  - **개발자 A**가 새로운 기능을 개발하기 위해 작업 브랜치를 만들어 작업을 시작합니다.

  - 개발이 완료된 후, **개발자 A**는 로컬에서 단위 테스트를 실행하여 코드가 예상대로 작동함을 확인합니다.

  - **개발자 A**는 작업한 코드를 리모트 저장소의 메인 브랜치에 병합하기 전에, 최신 메인 브랜치의 코드를 자신의 작업 브랜치에 머지하여 충돌이 없는지 확인합니다.

  - 충돌이 없고 모든 테스트가 통과되면, **개발자 A**는 작업 브랜치의 코드를 리모트 저장소의 메인 브랜치에 병합(merge)하는 Pull Request(PR)를 생성합니다.

  - CI 도구(Jenkins, Travis CI, GitHub Actions 등)가 PR을 감지하고 자동으로 빌드 및 테스트 프로세스를 실행합니다.

    - 코드 컴파일

    - 단위 테스트 실행

    - 코드 품질 분석(예: SonarQube)

    - (선택적으로) 자동화된 통합 테스트 실행
    - 모든 검사가 성공적으로 완료되면, PR은 메인 브랜치에 병합될 준비가 됩니다. 실패할 경우, 개발자는 피드백을 받고 문제를 수정합니다.

- #### CD (Continuous Deployment) 예시:

  - CI 프로세스가 성공적으로 완료되고, 메인 브랜치에 새로운 코드가 병합됩니다.

  - CD 도구가 새로운 코드 변경 사항을 감지하고, 프로덕션 환경으로의 배포 프로세스를 자동으로 시작합니다.

    - 코드 베이스에서 배포 가능한 아티팩트(예: Docker 이미지) 생성

    - 테스트 스테이징 환경으로 배포 및 테스트

    - 모든 테스트와 검사가 통과되면, 프로덕션 환경으로 배포

  - 배포 후, 모니터링 도구를 통해 애플리케이션의 성능을 실시간으로 모니터링하고, 문제가 발생하면 알림을 받습니다.