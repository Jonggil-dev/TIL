# CORS λ™μ‘ μ›λ¦¬

### β”CORS(Cross-Origin Resource Sharing) κΈ°λ³Έ μ΄ν•΄

- CORSλ” μ›Ή λΈλΌμ°μ €κ°€ λ‹¤λ¥Έ μ¶μ²μ λ¦¬μ†μ¤μ— μ•μ „ν•κ² μ ‘κ·Όν•  μ μλ„λ΅ ν•λ” λ³΄μ• λ©”μ»¤λ‹μ¦μ…λ‹λ‹¤.
- μ›Ή λΈλΌμ°μ €λ” **μ„λ²„λ΅λ¶€ν„° λ°›μ€ μ‘λ‹µμ CORS κ΄€λ ¨ ν—¤λ”(`Access-Control-Allow-Origin` λ“±)λ¥Ό κ²€μ‚¬**ν•μ—¬, μ”μ²­μ΄ λ™μΌ μ¶μ² μ •μ±…μ— λ¶€ν•©ν•λ”μ§€λ¥Ό νλ‹¨ν•©λ‹λ‹¤.
- CORS μ •μ±… μ„λ° μ‹, μ›Ή λΈλΌμ°μ €λ” μ‘λ‹µ μ²λ¦¬λ¥Ό μ°¨λ‹¨ν•©λ‹λ‹¤. μ„λ²„ μΈ΅ μ²λ¦¬(λ°μ΄ν„°λ² μ΄μ¤ μ‘μ—… λ“±)μ—λ” μν–¥μ„ μ£Όμ§€ μ•μµλ‹λ‹¤.

### π“ƒ λ¦¬λ²„μ¤ ν”„λ΅μ‹ μ„λ²„λ¥Ό μ‚¬μ©ν•λ” κ²½μ°μ CORS μ²λ¦¬ λ°©λ²•

#### **: ν΄λΌμ΄μ–ΈνΈκ°€ A λ°μ΄ν„°λ¥Ό ν¬ν•¨ν• μ”μ²­μ„ λ³΄λ‚΄κ³ , λ°±μ—”λ“ μ„λ²„λ” μ΄λ¥Ό μ²λ¦¬ν• ν›„ B λ°μ΄ν„°λ¥Ό μ‘λ‹µμΌλ΅ λ°ν™ν•λ” μƒν™© κ°€μ •**

#### 1. λ¦¬λ²„μ¤ ν”„λ΅μ‹ μ„λ²„μ— CORS ν—¤λ”λ¥Ό μ¶”κ°€ν•λ” κ²½μ°

1. **ν΄λΌμ΄μ–ΈνΈ μ”μ²­ λ°μƒ**: ν΄λΌμ΄μ–ΈνΈ(μ›Ή λΈλΌμ°μ €)κ°€ A λ°μ΄ν„°λ¥Ό ν¬ν•¨ν•μ—¬ λ¦¬λ²„μ¤ ν”„λ΅μ‹(Nginx)μ— μ”μ²­
2. **λ¦¬λ²„μ¤ ν”„λ΅μ‹μ—μ„ μ”μ²­ μ²λ¦¬**: λ¦¬λ²„μ¤ ν”„λ΅μ‹κ°€ μ”μ²­μ„ λ°›κ³  μ„¤μ •μ— λ”°λΌ λ°±μ—”λ“ μ„λ²„λ΅ μ „λ‹¬
3. **λ°±μ—”λ“ μ„λ²„μ—μ„ μ”μ²­ μ²λ¦¬**: λ°±μ—”λ“ μ„λ²„(Spring μ• ν”λ¦¬μΌ€μ΄μ… λ“±)μ—μ„ μ”μ²­μ„ λ°›μ•„ A λ°μ΄ν„°λ¥Ό DBμ— μ €μ¥ν•κ³ , μ‘λ‹µμΌλ΅ B λ°μ΄ν„°λ¥Ό μƒμ„±
4. **μ‘λ‹µμ΄ λ¦¬λ²„μ¤ ν”„λ΅μ‹λ΅ λ°ν™**: λ°±μ—”λ“ μ„λ²„μ μ‘λ‹µ(B λ°μ΄ν„°)μ΄ λ¦¬λ²„μ¤ ν”„λ΅μ‹λ΅ λ‹¤μ‹ μ „λ‹¬
5. **λ¦¬λ²„μ¤ ν”„λ΅μ‹μ—μ„ CORS ν—¤λ” μ¶”κ°€**: λ¦¬λ²„μ¤ ν”„λ΅μ‹κ°€ μ‘λ‹µμ— CORS κ΄€λ ¨ ν—¤λ”(`Access-Control-Allow-Origin` λ“±)λ¥Ό μ¶”κ°€
6. **ν΄λΌμ΄μ–ΈνΈμ— μ‘λ‹µ μ „λ‹¬**: μμ •λ μ‘λ‹µμ΄ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „λ‹¬
7. **μ›Ή λΈλΌμ°μ €μ—μ„ CORS κ²€μ‚¬**: ν΄λΌμ΄μ–ΈνΈ(μ›Ή λΈλΌμ°μ €)λ” μ‘λ‹µμ CORS ν—¤λ”λ¥Ό κ²€μ‚¬ν•μ—¬ μ •μ±…μ„ μ¶©μ΅±ν•λ”μ§€ ν™•μΈ
8. **CORS μ •μ±… μ¶©μ΅± μ—¬λ¶€μ— λ”°λ¥Έ μ²λ¦¬**: μ¶©μ΅±ν•λ©΄ B λ°μ΄ν„°μ— μ ‘κ·Όν•  μ μκ³ , μ¶©μ΅±ν•μ§€ μ•μΌλ©΄ μ ‘κ·Όμ΄ μ°¨λ‹¨

#### 2. λ°±μ—”λ“ μ„λ²„μ—μ„ CORS ν—¤λ”λ¥Ό μ¶”κ°€ν• κ²½μ°:

1. **ν΄λΌμ΄μ–ΈνΈ μ”μ²­ λ°μƒ**: ν΄λΌμ΄μ–ΈνΈ(μ›Ή λΈλΌμ°μ €)κ°€ A λ°μ΄ν„°λ¥Ό ν¬ν•¨ν•μ—¬ λ¦¬λ²„μ¤ ν”„λ΅μ‹(Nginx)μ— μ”μ²­

2. **λ¦¬λ²„μ¤ ν”„λ΅μ‹μ—μ„ μ”μ²­ μ²λ¦¬**: λ¦¬λ²„μ¤ ν”„λ΅μ‹κ°€ μ”μ²­μ„ λ°›κ³  μ„¤μ •μ— λ”°λΌ λ°±μ—”λ“ μ„λ²„λ΅ μ „λ‹¬

3. **λ°±μ—”λ“ μ„λ²„μ—μ„ μ”μ²­ μ²λ¦¬ λ° CORS ν—¤λ” μ¶”κ°€**: λ°±μ—”λ“ μ„λ²„μ—μ„λ” A λ°μ΄ν„°λ¥Ό μ²λ¦¬(μ: DB μ €μ¥)ν•κ³ , μ‘λ‹µμΌλ΅ B λ°μ΄ν„°λ¥Ό λ°ν™ν•λ©΄μ„ μ‘λ‹µμ— CORS ν—¤λ”λ¥Ό ν¬ν•¨

4. **μ‘λ‹µμ΄ λ¦¬λ²„μ¤ ν”„λ΅μ‹λ¥Ό κ±°μ³ ν΄λΌμ΄μ–ΈνΈλ΅ μ „λ‹¬**: λ°±μ—”λ“ μ„λ²„μ μ‘λ‹µμ΄ λ¦¬λ²„μ¤ ν”„λ΅μ‹λ¥Ό κ±°μ³ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅. λ¦¬λ²„μ¤ ν”„λ΅μ‹λ” λ°±μ—”λ“μ—μ„ μ„¤μ •ν• CORS ν—¤λ”λ¥Ό μ μ§€.

5. **μ›Ή λΈλΌμ°μ €μ—μ„ CORS κ²€μ‚¬**: ν΄λΌμ΄μ–ΈνΈ(μ›Ή λΈλΌμ°μ €)λ” μ‘λ‹µμ CORS ν—¤λ”λ¥Ό κ²€μ‚¬ν•μ—¬ μ •μ±…μ„ μ¶©μ΅±ν•λ”μ§€ ν™•μΈ

6. **CORS μ •μ±… μ¶©μ΅± μ—¬λ¶€μ— λ”°λ¥Έ μ²λ¦¬**: μ¶©μ΅±ν•λ©΄ B λ°μ΄ν„°μ— μ ‘κ·Όν•  μ μκ³ , μ¶©μ΅±ν•μ§€ μ•μΌλ©΄ μ ‘κ·Όμ΄ μ°¨λ‹¨

> λ‘ κ²½μ° λ¨λ‘ μµμΆ…μ μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ°›μ€ μ‘λ‹µμ CORS ν—¤λ”λ¥Ό λ°”νƒ•μΌλ΅ μ›Ή λΈλΌμ°μ €κ°€ CORS μ •μ±… μ„λ° μ—¬λ¶€λ¥Ό νλ‹¨ν•λ©°, μ΄ κ³Όμ •μ—μ„ μ”μ²­ μ¶μ²μ™€ μ‘λ‹µμ `Access-Control-Allow-Origin` ν—¤λ” κ°’μ΄ μΌμΉν•λ”μ§€κ°€ ν•µμ‹¬